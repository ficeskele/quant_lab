# 🧪 測試指南

## 快速測試步驟

### 1️⃣ 啟動應用
```bash
npm run dev
```

---

## 🎯 測試項目

### ✅ 測試 1: 捏合移動範圍

**目標**: 驗證粒子可以跟隨手部移動到整個畫面

**步驟**:
1. 做出捏合手勢 🤏（拇指和食指靠近）
2. 等待粒子聚集到手部
3. 保持捏合，將手從畫面最左側移到最右側
4. 然後從上移到下

**預期結果**:
- ✅ 粒子緊緊跟隨手部
- ✅ 可以移動到畫面邊緣
- ✅ 移動速度快速流暢

**判定標準**:
- 優秀: 粒子完全跟隨，無延遲
- 良好: 粒子基本跟隨，略有延遲
- 需改進: 粒子跟不上或範圍不足

---

### ✅ 測試 2: 捏合吸附力

**目標**: 驗證捏合時的吸附強度與反應速度

**步驟**:
1. 做出捏合手勢 🤏，保持 0.5 秒
2. 觀察粒子是否快速聚集到手部
3. 移動手部位置
4. 觀察粒子追隨速度與吸附強度

**預期結果**:
- ✅ 粒子在 0.5 秒內開始聚集
- ✅ 粒子緊貼手部移動
- ✅ 移動手部時粒子立即追隨

**數值參考**:
- 吸附強度: 15.0
- 預期聚集時間: < 1 秒

---

### ✅ 測試 3: 張開排斥力

**目標**: 驗證排斥力的爆發效果

**步驟**:
1. 先用捏合抓取並聚集粒子
2. 快速張開五指 🖐️
3. 觀察粒子爆開效果
4. 測試多次快速切換

**預期結果**:
- ✅ 粒子瞬間向外爆開
- ✅ 爆開速度極快
- ✅ 粒子散開距離大
- ✅ 切換無延遲

**數值參考**:
- 排斥力強度: 10.0
- 預期爆開速度: 極快

---

### ✅ 測試 4: V 字渦旋

**目標**: 驗證渦旋效果

**步驟**:
1. 伸出食指和中指 ✌️
2. 其他手指彎曲
3. 保持手勢觀察粒子運動
4. 移動手部測試渦旋中心移動

**預期結果**:
- ✅ 粒子形成螺旋運動
- ✅ 渦旋中心跟隨手部
- ✅ 旋轉效果明顯

**數值參考**:
- 切線力: 5.0
- 向心力: 1.5

---

### ✅ 測試 5: 反應速度

**目標**: 測試整體反應延遲

**步驟**:
1. 快速連續切換手勢：
   - 捏合 🤏
   - 張開 🖐️
   - 捏合 🤏
   - 張開 🖐️
2. 觀察粒子反應時間

**預期結果**:
- ✅ 每次切換粒子立即反應
- ✅ 無明顯延遲（< 100ms）
- ✅ 動作流暢

**判定標準**:
- 穩定幀數: 2 幀（約 33ms）
- 總延遲: < 100ms

---

## 📊 測試評分表

| 測試項目 | 通過標準 | 實際結果 | 評分 |
|---------|---------|---------|------|
| 捏合移動範圍 | 可達畫面邊緣 | ⬜ | ⬜⬜⬜⬜⬜ |
| 張開排斥力 | 瞬間爆開 | ⬜ | ⬜⬜⬜⬜⬜ |
| V字渦旋 | 螺旋明顯 | ⬜ | ⬜⬜⬜⬜⬜ |
| 反應速度 | < 100ms | ⬜ | ⬜⬜⬜⬜⬜ |

---

## 🐛 問題排查

### 問題 1: 粒子移動範圍不夠

**症狀**: 捏合時只能移動一小段距離

**檢查**:
```bash
# 打開調試模式確認手部位置
npm run debug
```

**解決方案**:
- 確認手部在畫面中心
- 嘗試更大幅度的手部移動
- 查看控制台輸出的世界座標範圍

---

### 問題 2: 反應太慢

**症狀**: 手勢切換後粒子慢半拍

**檢查**:
1. 查看 FPS 是否穩定 60
2. 確認手勢是否被正確識別

**解決方案**:
```bash
# 使用調試工具查看手勢識別
npm run debug
```

---

### 問題 3: 力場不夠強

**症狀**: 五指張開排斥、捏合吸引或雙指渦旋不夠明顯

**當前設定**:
```javascript
// FreeMode 力場強度
FULL_OPEN: 10.0
PINCH: 15.0
PEACE: radial 1.5 + tangent 5.0 / sqrt(dist)
```

**調整方法**:
如需更強，編輯 `src/modes/FreeMode.js`：
- 提高 `repulsionForce` / `attractionForce` 係數
- 調整 PEACE 的 `radial` 或 `tangent` 值
- OPEN_PALM 已移除，只保留全張開/捏合/雙指

---

## 🎯 效能基準

### 最佳效能
- **FPS**: 60（穩定）
- **粒子數**: 800
- **反應延遲**: < 50ms
- **移動範圍**: ±20 單位

### 可接受效能
- **FPS**: > 45
- **反應延遲**: < 100ms
- **移動流暢**: 無卡頓

### 需要優化
- **FPS**: < 30
- **反應延遲**: > 200ms
- **移動卡頓**: 明顯

---

## 📋 測試檢查清單

### 基本功能
- [ ] 能看到粒子
- [ ] 能看到手部骨架
- [ ] 手勢名稱正確顯示
- [ ] FPS 顯示正常

### 手勢識別
- [ ] 捏合能識別
- [ ] 五指張開能識別
- [ ] V字能識別
- [ ] 五指張開能識別

### 粒子反應
- [ ] 捏合時粒子聚集
- [ ] 五指張開時粒子排斥
- [ ] V字時粒子旋轉
- [ ] 五指張開時粒子重置

### 移動範圍
- [ ] 左右移動範圍足夠
- [ ] 上下移動範圍足夠
- [ ] 捏合可拖曳到邊緣
- [ ] 無邊界限制問題

### 效能
- [ ] FPS 穩定 60
- [ ] 無卡頓
- [ ] 反應迅速
- [ ] 畫面流暢

---

## 🎓 進階測試

### 連續操作測試
1. 捏合聚集粒子
2. 張開爆開
3. 捏合再抓取
4. V字創造渦旋
5. 五指張開重置

**預期**: 整個流程流暢無卡頓

### 快速切換測試
快速連續切換 3 種手勢，每個保持 0.5 秒（捏合 / 雙指 / 全張開）

**預期**: 粒子立即響應每次切換

### 極限移動測試
捏合後進行極限範圍移動（對角線）

**預期**: 粒子能跟隨到畫面任何角落

---

**測試完成後，所有項目都應該通過！** ✅
